# Success Factory Environment Variables
# Copy to .env.local and fill in values
# NEVER commit .env.local to git

# ============================================
# REQUIRED - Core App
# ============================================

# Database (Postgres/Neon)
DATABASE_URL=postgresql://user:password@host:5432/dbname
POSTGRES_PRISMA_URL=postgresql://user:password@host:5432/dbname?pgbouncer=true

# AI (Vercel AI Gateway via Clawdbot)
# Get from: https://vercel.com/dashboard → AI Gateway → API Keys
VERCEL_AI_GATEWAY_API_KEY=your-vercel-ai-gateway-key

# Site Password (simple auth)
SITE_PW=your-password-here

# ============================================
# REQUIRED - Integrations
# ============================================

# HubSpot - CRM data, companies, contacts
# Get from: HubSpot Settings → Integrations → Private Apps → Create
HUBSPOT_ACCESS_TOKEN=pat-na1-xxxx-xxxx-xxxx-xxxx

# Notion - Tasks, tickets, documents
# Get from: https://www.notion.so/my-integrations → Create integration
NOTION_API_KEY=ntn_xxxx
# CSM Tasks database: https://www.notion.so/swoopapp/739c00847ce24e58a7c2f205d5910567
NOTION_CSM_DATABASE_ID=739c0084-7ce2-4e58-a7c2-f205d5910567

# Metabase - Usage analytics, queries
# Get from: Metabase Admin → Settings → API Keys
# Metabase - Analytics and usage data
# Moovs uses swoop.metabaseapp.com
METABASE_URL=https://swoop.metabaseapp.com
METABASE_API_KEY=mb_xxxx
# Database 3, Table 5682 contains the master customer view
METABASE_DATABASE_ID=3
METABASE_TABLE_ID=5682

# Stripe - Payment data, subscriptions
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_xxxx

# ============================================
# OPTIONAL - Additional Features
# ============================================

# Lago - Billing/usage metering (if using Lago)
LAGO_API_KEY=your-lago-api-key
LAGO_API_URL=https://api.getlago.com/api/v1

# Email - NPS surveys, alerts, digests
# SendGrid (preferred) - Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.xxxx
# Or Resend:
RESEND_API_KEY=re_xxxx
# Or use SMTP:
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=user
# SMTP_PASS=password
EMAIL_FROM=alerts@yourcompany.com
FROM_EMAIL=nps@yourcompany.com

# Email digest recipients (comma-separated)
DIGEST_EMAIL_RECIPIENTS=csm1@company.com,csm2@company.com

# Slack - Alerts webhook
# Get from: Slack App → Incoming Webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx

# Gemini - AI image generation (for /image skill)
# Get from: https://aistudio.google.com/apikey
GEMINI_API_KEY=xxxx

# ============================================
# DEPLOYMENT (Vercel)
# ============================================

# App URL (auto-set on Vercel, set manually for local)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Cron secret for scheduled jobs
# Generate: openssl rand -hex 32
CRON_SECRET=your-cron-secret

# ============================================
# MCP SERVERS (for Claude Code CLI)
# These are used by .mcp.json for MCP integrations
# ============================================

# Google Drive - OAuth credentials directory
# Setup: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth client ID (Desktop app)
# 2. Download JSON, save to ~/.config/mcp-gdrive/gcp-oauth.keys.json
# 3. Enable Drive API at https://console.cloud.google.com/apis/library/drive.googleapis.com
GDRIVE_CREDS_DIR=$HOME/.config/mcp-gdrive

# Slack MCP (if using npx server instead of OAuth)
# SLACK_BOT_TOKEN=xoxb-xxxx
# SLACK_TEAM_ID=Txxxx

# ============================================
# OAUTH-BASED SERVICES (no env vars needed)
# ============================================
# These authenticate via browser when first used:
#   - Figma: claude mcp auth figma
#   - Supabase: claude mcp auth supabase
#   - Stripe: claude mcp auth stripe (or use API key above)
#   - Slack: claude mcp auth slack (or use bot token above)
#   - Google Calendar: auto-authenticates on first use
